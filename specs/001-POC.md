# SPEC-001 POC: Budget Zero Validation Plan

**Collegamento**: Questo documento collega il POC (`../poc/`) con le specifiche complete (SPEC-001, PLAN-001, TASKS-001).

**Created**: 2025-10-23
**Status**: ðŸ”„ IN PROGRESS

---

## ðŸŽ¯ Obiettivo POC

Prima di investire 320-380 ore nell'implementazione completa, validare con **20 ore di POC budget-zero** le 4 assunzioni tecniche piÃ¹ rischiose.

---

## ðŸ“Š Mapping POC â†’ Spec

### POC-1: IfcOpenShell â†’ Valida SPEC-001 Requirements

| POC-1 Validation | SPEC-001 Reference | Risk if Fails |
|------------------|-------------------|---------------|
| Coordinate extraction | FR-004, FR-005 | ðŸ”´ CRITICAL - Core feature |
| IFC4 parsing | FR-003 | ðŸ”´ CRITICAL - No alternative |
| Performance <5s | NFR-014 | ðŸŸ¡ MEDIUM - Can adjust threshold |
| Windows compatibility | PLAN-001 Setup | ðŸ”´ CRITICAL - Target platform |

**Decision Impact**:
- âœ… PASS â†’ Continue as planned
- âŒ FAIL â†’ PIVOT to IFC.js (Constitution Â§2.2 change required)

---

### POC-2: CesiumJS + web-ifc â†’ Valida SPEC-001 Frontend

| POC-2 Validation | SPEC-001 Reference | Risk if Fails |
|------------------|-------------------|---------------|
| 3D geometry rendering | FR-012, FR-013, FR-014 | ðŸ”´ CRITICAL - Core UX |
| FPS â‰¥30 | NFR-002 (target 60fps) | ðŸŸ¡ MEDIUM - Can reduce to 30 |
| web-ifc in Web Worker | NFR-003 | ðŸ”´ CRITICAL - UI blocking |
| Cesium globe init | FR-010 | ðŸŸ¡ MEDIUM - Can use alternative |

**Decision Impact**:
- âœ… PASS â†’ Continue with web-ifc + CesiumJS
- âš ï¸ PARTIAL â†’ Reduce FPS requirement to 30 (update NFR-002)
- âŒ FAIL â†’ PIVOT to Three.js standalone or Babylon.js

---

### POC-3: File Upload â†’ Valida SPEC-001 Backend

| POC-3 Validation | SPEC-001 Reference | Risk if Fails |
|------------------|-------------------|---------------|
| 50MB upload stable | FR-002 (100MB limit) | ðŸŸ¢ LOW - Can reduce limit |
| No memory leak | NFR-003 | ðŸŸ¡ MEDIUM - Needs investigation |
| Progress tracking | FR-015 | ðŸŸ¢ LOW - Nice-to-have |

**Decision Impact**:
- âœ… PASS â†’ Keep 100MB limit
- âš ï¸ PARTIAL â†’ Reduce to 50MB or 20MB (update FR-002)
- âŒ FAIL â†’ Implement chunked upload (add tasks)

---

### POC-4: PostGIS â†’ Valida SPEC-001 Database

| POC-4 Validation | SPEC-001 Reference | Risk if Fails |
|------------------|-------------------|---------------|
| Spatial query <100ms | NFR-005 | ðŸŸ¡ MEDIUM - Can adjust threshold |
| GiST index works | FR-009 | ðŸŸ¢ LOW - Standard feature |
| Docker setup smooth | PLAN-001 Infrastructure | ðŸŸ¢ LOW - Alternative: managed DB |

**Decision Impact**:
- âœ… PASS â†’ Use PostgreSQL + PostGIS
- âš ï¸ PARTIAL â†’ Adjust query performance targets
- âŒ FAIL â†’ PIVOT to SQLite + SpatiaLite (simpler)

---

## ðŸ”„ POC â†’ Spec Update Workflow

### Step 1: Complete POC (../poc/)
Run all 4 POC validation tests, document results in `RESULTS.md` files.

### Step 2: Compile POC-SUMMARY.md
Aggregate findings and make GO/NO-GO/PIVOT decision.

### Step 3: Update Specifications (if needed)

#### If Minor Changes (âš ï¸ PARTIAL results):
```bash
# Update SPEC-001
# - Adjust NFR thresholds (es: FPS 30 instead of 60)
# - Add edge cases discovered
# Location: specs/001-ifc-upload-visualization.md

# Update PLAN-001
# - Add ADRs for POC learnings
# - Document installation quirks
# Location: specs/001-plan.md

# Update TASKS-001
# - Add mitigation tasks
# - Adjust time estimates based on POC
# Location: specs/001-tasks.md
```

#### If Major Changes (ðŸ”„ PIVOT required):
```bash
# Update Constitution
# - Change Â§2.2 Technology Stack
# Location: CONSTITUTION.md

# Regenerate SPEC-001 & PLAN-001
# - Use new architecture from POC findings
# - Re-run /speckit.specify with new constraints

# Regenerate TASKS-001
# - Completely new task breakdown
```

---

## ðŸ“‹ POC Completion Checklist

Before marking POC complete:

- [ ] All 4 POC RESULTS.md compiled
- [ ] POC-SUMMARY.md decisione presa (GO/PIVOT/NO-GO)
- [ ] Se GO: learnings applicati alle spec (commit changes)
- [ ] Se PIVOT: Constitution aggiornata, spec rigenerate
- [ ] Se NO-GO: documentato "why" per future reference

---

## ðŸŽ¯ Success Metrics

| Metric | Target | How to Measure |
|--------|--------|----------------|
| Time investment | â‰¤20 hours | Sum of all POC time |
| Spec accuracy | â‰¥80% | % of spec that doesn't need changes |
| Confidence increase | +30% | Self-assessment before/after |
| Blockers identified | â‰¥3 | Count of issues found early |

---

## ðŸ”— Related Documents

- **POC Folder**: `../poc/README.md` (start here)
- **Quick Start**: `../poc/QUICK-START.md` (5-min guide)
- **Constitution**: `../CONSTITUTION.md` (immutable principles)
- **Feature Spec**: `001-ifc-upload-visualization.md` (what to build)
- **Implementation Plan**: `001-plan.md` (how to build)
- **Task Breakdown**: `001-tasks.md` (118 tasks)

---

## ðŸ“ Version History

| Version | Date | Changes | Author |
|---------|------|---------|--------|
| 0.1 | 2025-10-23 | POC plan created, budget-zero approach | @claude |
| 0.2 | [PENDING] | POC completed, results integrated | [TU] |

---

**Status**: â³ Awaiting POC execution
**Next Action**: `cd ../poc && cat QUICK-START.md`
